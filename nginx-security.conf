# Security headers for static site hardening
#
# These headers protect against common web attacks including XSS,
# clickjacking, MIME-type sniffing, and information disclosure.

# Prevent page from being embedded in iframes (clickjacking protection)
add_header X-Frame-Options "DENY" always;

# Block MIME-type sniffing — browser must respect declared Content-Type
add_header X-Content-Type-Options "nosniff" always;

# Content Security Policy — restrict resource loading
# Inline styles and scripts needed for the interactive demo and analysis pages,
# images from HTTPS and data: URIs (canvas). No iframes, no form submissions.
add_header Content-Security-Policy "default-src 'none'; style-src 'unsafe-inline'; script-src 'unsafe-inline'; img-src https: data:; frame-ancestors 'none'; base-uri 'self'; form-action 'none';" always;

# Referrer Policy — don't leak URLs to external sites
add_header Referrer-Policy "no-referrer" always;

# Permissions Policy — disable unnecessary browser features
add_header Permissions-Policy "camera=(), microphone=(), geolocation=(), payment=()" always;

# Hide nginx version from response headers
server_tokens off;
